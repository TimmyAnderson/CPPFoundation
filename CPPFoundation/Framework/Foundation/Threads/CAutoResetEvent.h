//----------------------------------------------------------------------------------------------------------------------
#pragma once
//----------------------------------------------------------------------------------------------------------------------
#include <mutex>
#include <condition_variable>
#include <Framework/Platform/Global/Macros.h>
#include <Framework/Foundation/Objects/CObject.h>
//----------------------------------------------------------------------------------------------------------------------
namespace CPPFoundation
{
//----------------------------------------------------------------------------------------------------------------------
namespace Foundation
{
//----------------------------------------------------------------------------------------------------------------------
	class CAutoResetEvent final : public CObject
	{
//----------------------------------------------------------------------------------------------------------------------
		private:
			mutable std::mutex									MMutex;
			mutable std::condition_variable						MConditionalVariable;
			bool												MIsSignalized;

		public:
			bool IsSignalized(void) const;
			void Set(void);
			void Reset(void);
			void Wait(void);
			bool Wait(uint64 Milliseconds);

		public:
			CAutoResetEvent(void);
			CAutoResetEvent(bool IsSignalized);
			virtual ~CAutoResetEvent(void) override;
//----------------------------------------------------------------------------------------------------------------------
	};
//----------------------------------------------------------------------------------------------------------------------
}
//----------------------------------------------------------------------------------------------------------------------
}
//----------------------------------------------------------------------------------------------------------------------
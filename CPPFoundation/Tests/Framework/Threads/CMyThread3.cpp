//----------------------------------------------------------------------------------------------------------------------
#include "CMyThread3.h"
#include <Framework/Foundation/Console/CConsoleHelper.h>
#include <Framework/Foundation/Types/CFunction.h>
//----------------------------------------------------------------------------------------------------------------------
namespace CPPFoundation
{
//----------------------------------------------------------------------------------------------------------------------
namespace Testing
{
//----------------------------------------------------------------------------------------------------------------------
	using namespace CPPFoundation::Foundation;
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
	CMyThread3::CMyThread3(CLogWriter& LogWriter, CAtomic<Size>& Counter)
		: CThread(LogWriter,"MY THREAD 3"), MCounter(Counter)
	{
	}
//----------------------------------------------------------------------------------------------------------------------
	CMyThread3::~CMyThread3(void)
	{
		StopThread();
	}
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
	void CMyThread3::ThreadMethod(bool)
	{
		if (HasThreadExiting()==false)
		{
			CConsoleHelper::WriteLine("THREAD is RUNNING !");

			MCounter.Execute(CFunction<void(Size&)>([](Size& Value){Value++;}));
		}
	}
//----------------------------------------------------------------------------------------------------------------------
	CTimeout CMyThread3::GetTimeout(void)
	{
		return(CTimeout());
	}
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
	void CMyThread3::StartThread(void)
	{
		InternalStartThread();
	}
//----------------------------------------------------------------------------------------------------------------------
	void CMyThread3::StopThread(void)
	{
		InternalStopThread();
	}
//----------------------------------------------------------------------------------------------------------------------
	void CMyThread3::SetWorkerEvent(void)
	{
		SetEvent();
	}
//----------------------------------------------------------------------------------------------------------------------
}
//----------------------------------------------------------------------------------------------------------------------
}
//----------------------------------------------------------------------------------------------------------------------